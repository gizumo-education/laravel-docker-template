# Laravel Lesson レビュー②

## Todo編集機能

### @method('PUT')を記述した行に何が出力されているか
type=”hidden” name=”_method” value=”PUT”という内容のinputタグが生成されます。

ちなみに、HTMLの仕様でPUTメソッドを使ったリクエストの送信はできないため、@method('PUT')を使用して転送方法を指定しています。

### findメソッドの引数に指定しているIDは何のIDか
引数に渡した$idには、ルートパラメータから取得したidの値が格納されています。

ちなみに、findメソッドは【ルートパラメータから取得したidの値】と【DBのidカラムの値】が一致しているレコードを探して、取得する処理を行います。既存のデータに対して更新・削除といった操作をする時に用いられます。

### findメソッドで実行しているSQLは何か
SELECT * FROM todos WHERE id = $id;と同様のことを、SQL文を記述せずに実行しています。

### findメソッドで取得できる値は何か
【ルートパラメータから取得したidの値】と【DBのidカラムの値】が一致しているレコードのデータを１件取得します。

取得したデータは、カラムがキーで、値がバリューとなっている連想配列の形で取得できます。

### saveメソッドは何を基準にINSERTとUPDATEを切り替えているのか
saveメソッドが処理を行おうとしている対象データが「DB上に既に存在しているのかどうか」が基準となります。

新規作成（INSERT）と更新（UPDATE）の処理について記述しているコードを見ると、フォームから入力されたデータをallメソッドで取得した後、fillメソッドでModelインスタンスのカラムに値をセットし、saveメソッドでDBへ保存しているのが新規作成です。

それに対して更新では、一度findメソッドでIDが一致する既存レコードをDBから取得して、それからfillメソッドでModelインスタンスのカラムに値をセットし、saveメソッドでDBへ保存しています。

## Todo論理削除

### traitとclassの違いとは
クラスは、オブジェクトを生成するための設計図として、プロパティやメソッドといったコードをまとめて定義しており、インスタンス化して利用することができます。

一方トレイトは、プロパティやメソッドといったコードをまとめてカプセル化し、それにより複数のクラスでコードの再利用が容易にできます。ただし、インスタンス化ができず、クラスの一部として組み込まれることでトレイトは機能します。

### traitを使用するメリットとは
メリットとして、プロパティやメソッドのコードをカプセル化することで再利用が可能になる点や、機能の有効化・無効化が容易になる点が挙げられます。

## その他

### TodoControllerクラスのコンストラクタはどのタイミングで実行されるか
TodoControllerクラスがインスタンス化されたタイミングでコンストラクタは実行されます。

また、TodoControllerクラスのインスタンス化は、名前付きのルート関数を呼び出した時に行われます。

### RequestクラスからFormRequestクラスに変更した理由
バリデーション機能を実装するためです。

まず、バリデーションを行うための基礎となる機能がまとめられたFormRequestクラスを作成し、次にそのクラスを継承したTodoRequestクラスを作成します。

TodoRequestクラスにはバリデーションの細かなルールや、エラーメッセージの設定などができるように処理をまとめており、ルールの追加やメッセージ内容の変更はこのクラスで行えるようにしています。

### $errorsのhasメソッドの引数・返り値は何か
hasメソッドは、引数に指定した項目のエラーの有無を確認する処理を行うbool型（真偽値）を返すメソッドです。

引数は入力フォームのname属性である‘content’で、エラーが存在すればtrueを返します。

### $errorsのfirstメソッドの引数・返り値は何か
firstメソッドは、引数に指定した項目の最初のエラーメッセージを取得するメソッドです。

引数は入力フォームのname属性である‘content’で、返り値はその項目の最初のエラーメッセージです。エラーがない場合はnullを返します。

### フレームワークとは何か
アプリケーション開発でよく使う機能を取り揃えた枠組みのことを、フレームワークと言います。
フレームワークでは既に用意されている枠組みを利用することになるため、一から機能を作る必要がなかったり、経験が浅くても一定の品質のプログラムを作れたりと、開発をより効率的に行うことができます。

### MVCはどういったアーキテクチャか
開発効率を高めるために作られたアーキテクチャがMVCです。

Model：「DBからデータを取得する・データの保存や更新を行う」といった、DBとのやり取りを担当します。

View：ユーザーへ表示する画面の出力を担当します。

Controller：ユーザーからの入力に基づいてModelやViewへの指示出しを担当します。

### ORMとは何か、またLaravelが使用しているORMは何か
ORMとはObject-Relational Mappingの略称で、ClassとDBのテーブルを関連付けすることで、SQL文を書かなくてもDBの操作を行うことができる仕組みです。

Laravelでは、「Eloquent」というORMを用いることでDBの操作を行うことができます。

### composer.json, composer.lockとは何か
composer.json：インストールしたいPHPのパッケージ（ライブラリ）やプロジェクトの依存関係を定義するファイルです。

composer.lock：実際にインストールされたパッケージ（ライブラリ）や、バージョン情報を記録するファイルです。

### composerでインストールしたパッケージ（ライブラリ）はどのディレクトリに格納されるのか
パッケージは全てvendorディレクトリに格納されます。