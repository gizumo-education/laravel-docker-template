# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
・todosテーブルからすべてのレコードを取得するためのSQLを実行している。

### Todoモデルのallメソッドの返り値は何か
・Collectionクラスに格納されている5つのTodoインスタンスが返り値として渡されている

### 配列の代わりにCollectionクラスを使用するメリットは
・Laravelで用意されているクラスで配列操作に特化したクラスになり、
複数のデータがある際にチェーンメソッドで処理を繋げわかりやすくなる。

### view関数の第1・第2引数の指定と何をしているか
・第1引数は画面に表示したいbladeファイルを指定し、第2引数に渡したいデータを連想配列の形で渡している。（何をしているか）ControllerからHTMLを表すbladeファイルへデータを渡すしている。

### index.blade.phpの$todos・$todoに代入されているものは何か
・$todosには、Controllerにて取得したCollectionインスタンスが代入されている。
・$todoには、Todoクラスの処理が代入されている。

## Todo作成機能

### Requestクラスのallメソッドは何をしているか
・フォームから送信された値（タイトル・場所・カテゴリなど）を個別ではなく一括で取得するようにしている。

### fillメソッドは何をしているか
・連想配列で取得した値を、Todoインスタンスの各プロパティに一括で代入し、
「$todo->{連想配列のkey} = {連想配列のvalue}」を配列のすべての要素に対して行っている。

### $fillableは何のために設定しているか
・一括代入には脆弱性があり、対策なしだと悪意のあるユーザーに攻撃されてしまう恐れがあるため。
idを編集されていたとしても、fillableで許可がないと再代入がされないため、上書きがされず別ユーザーとして認識される。

### saveメソッドで実行しているSQLは何か
・オブジェクトの状態をDBに保存するINSERT文を実行している

### redirect()->route()は何をしているか
・ToDoが新規作成された後に一覧画面を表示させるための、一覧画面へのリダイレクト処理

## その他

### テーブル構成をマイグレーションファイルで管理するメリット
・マイグレーションファイルをGitで共有することで、開発者全員が同じテーブルを作成することができる

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
・up()はartisanコマンドを、down()はrollbackコマンドを実行した時に呼び出される


### Seederクラスの役割は何か
・テストデータを投入するための役割

### route関数の引数・返り値・使用するメリット
・route関数を使用することでそルートに対応するURLを生成することができるメリットがある。

### @extends・@section・@yieldの関係性とbladeを分割するメリット
・修正が必要な場合の保守性を向上するメリットがある。

### @csrfは何のための記述か
・laravelのCSRF（クロス・サイト・リクエスト・フォージェリ）対策をするコマンド

### {{ }}とは何の省略系か
・PHPのエスケープ処理をして出力する省略形
